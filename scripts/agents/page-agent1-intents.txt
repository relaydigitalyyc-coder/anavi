=== TASK: Upgrade client/src/pages/Intents.tsx for ANAVI whitepaper vision conformance ===
Module: BLIND MATCHING -- Intent Submission


=== ANAVI WHITEPAPER CONTEXT ===

ANAVI is "The Private Market Operating System" ("If Bloomberg runs public markets, ANAVI will run private ones").

Six core modules:
1. TRUST & IDENTITY — Trust Score (0-100), composite of KYB depth, transaction history,
   dispute outcomes, peer attestations. Three tiers: Basic / Enhanced / Institutional.
   Compliance Passport travels with every transaction.
2. RELATIONSHIP CUSTODY — Timestamped, cryptographically signed introductions.
   "Custodied" = protected with hash proof. "Open" = visible but unprotected.
3. BLIND MATCHING — Intents expressed anonymously. Counterparty identity sealed until
   mutual consent. Match cards: "Sealed -- [AssetClass]", compatibility score, deal size.
   "Blind Intent" = anonymous intent. "Blind Match" = sealed result brief.
4. DEAL ROOMS — NDA-gated workspaces. Immutable audit trail. Workflow:
   NDA Pending -> Active -> Diligence -> Closing -> Completed.
5. COMPLIANCE / ESCROW — KYB verified, OFAC clean, AML passed. Escrow milestones trigger automatically.
6. ECONOMICS ENGINE — Lifetime attribution. Originators earn 40-60% of fees. Follow-on deals
   compound. Attribution Chain. Payout types: originator_fee, introducer_fee, advisor_fee,
   milestone_bonus, success_fee.

Visual language:
- Navy: #0A1628 (darkest), #1E3A5F (body text/secondary)
- Gold: #C4972A (accent, CTAs)
- Trust green: #059669
- Cards: className="card-elevated p-6"
- Stat chips: "rounded-full bg-[COLOR]/15 px-3 py-1 text-xs font-semibold text-[COLOR]"
- Animations: FadeInView, StaggerContainer, StaggerItem (from @/components/PageTransition)
- Numbers: font-data-hud class; hashes/IDs: font-data-mono class
- Primary CTA: className="btn-gold ..."

=== COPY TOKENS (client/src/lib/copy.ts) ===
// client/src/lib/copy.ts
// Single source of truth for all whitepaper-aligned platform language.
// Import from here — never write custody/attribution/trust copy inline.

export const PLATFORM = {
  tagline: "The Private Market Operating System",
  thesis: "If Bloomberg runs public markets, ANAVI will run private ones.",
  market: "$13 trillion private market",
} as const;

export const PROBLEMS = {
  brokerChain: {
    stat: "5–15",
    headline: "Intermediaries Per Deal",
    body: "5 to 15 intermediaries per deal. Each extracting 1–5%. The originator — the person whose relationship made the deal possible — receives no attribution, no compounding value, and no protection if they're cut out.",
  },
  fraud: {
    stat: "$40B",
    headline: "Annual Fraud Losses",
    body: "$10 to $40 billion in annual US investment fraud losses. Because identity verification across private markets is fragmented, unshared, and trivially forged. Everyone runs their own checks. No one shares the results.",
  },
  dueDiligence: {
    stat: "$500K",
    headline: "Duplicated Per Deal",
    body: "$50,000 to $500,000 per deal in duplicated compliance costs. Every investor in the chain runs the same KYC, the same OFAC screen, the same accreditation check — independently, expensively, and without coordination.",
  },
} as const;

export const PERSONAS = {
  originator: {
    label: "Deal Originator / Broker",
    role: "Relationship Holder",
    problem: "My introductions close deals I never get credit for.",
    answer: "Custody your relationships. Timestamp your introductions. Collect your attribution.",
    tourPitch: "You made 847 introductions last year. ANAVI would have attributed every one.",
  },
  investor: {
    label: "Investor / Family Office",
    role: "Capital Deployer",
    problem: "I can't tell which deals are real or who's already seen them.",
    answer: "Verified counterparties. Blind matching. Mutual consent before any disclosure.",
    tourPitch: "You reviewed 40 deals. ANAVI would have verified every counterparty before you saw the first deck.",
  },
  developer: {
    label: "Developer / Asset Owner",
    role: "Capital Seeker",
    problem: "Raising capital means exposing my thesis before anyone commits.",
    answer: "Anonymous until you consent. NDA-gated rooms. Escrow-backed milestones.",
    tourPitch: "You raised $30M. ANAVI would have protected your thesis until the moment you chose to disclose it.",
  },
} as const;

export type PersonaKey = keyof typeof PERSONAS;

export const TOUR = {
  trustScore: {
    title: "Your Trust Score",
    body: "A dynamic credential built from KYB verification depth, transaction history, dispute resolution outcomes, and peer attestations. It determines your access tier, your whitelist status, and whether counterparties transact with you.",
  },
  relationships: {
    originator: {
      title: "Custody Your Relationship",
      body: "Click to timestamp this introduction with a cryptographic custody hash — immutable proof of when you made it. If this relationship produces a deal in three years, this record is your attribution claim.",
    },
    investor: {
      title: "Protect Your Counterparty",
      body: "Click to custody a counterparty relationship. Every counterparty you protect has passed KYB verification, OFAC screening, and accreditation confirmation — and every disclosure is logged permanently.",
    },
    developer: {
      title: "Seal Your Register",
      body: "Click to seal this relationship. Counterparties know a qualified party exists — nothing is disclosed until mutual consent is established, and every disclosure is cryptographically logged.",
    },
  },
  blindMatch: {
    title: "Blind Match",
    body: "A qualified counterparty has been matched to your intent. Their identity, firm, and terms remain sealed. ANAVI's matching engine operates on anonymized attributes — the platform cannot see unencrypted details until both parties authorize disclosure.",
  },
  dealRoom: {
    title: "Deal Room",
    body: "NDA executed. Immutable audit trail initiated. Every document access, version change, and signature event is cryptographically logged. This record is the basis for originator attribution, payout calculation, and regulatory compliance.",
  },
  attribution: {
    originator: {
      title: "Attribution & Payout",
      body: "Your introduction. $47M Riyadh Solar JV. Originator share: 2.5% — $1.175M — calculated automatically from the closing ledger. Triggered on milestone. No negotiation. No intermediary.",
    },
    investor: {
      title: "Attribution & Payout",
      body: "Your capital deployed across 3 verified SPVs. Every subsequent deal from this relationship credits your participation — compounding attribution over time.",
    },
    developer: {
      title: "Escrow Milestone",
      body: "Milestone reached: $12M of $30M committed. Funds release triggered automatically. Your operator economics, protected and automated.",
    },
  },
  compliance: {
    title: "Compliance Passport",
    body: "This counterparty's compliance passport — KYB verified, OFAC clean, accredited status confirmed — travels with every transaction they execute on ANAVI. You access their verification record. You don't duplicate it. $500,000 in due diligence costs, shared.",
  },
  close: {
    headline: "The Private Market Operating System.",
    subhead: "Every relationship custodied. Every introduction attributed. Every deal closed on infrastructure purpose-built for the $13 trillion private market.",
    cta: {
      title: "Apply for Access",
      body: "You have seen the full picture: relationships protected, matches found, deal rooms secured, payouts automated. What would your relationships be worth if they were protected like this?",
    },
  },
} as const;

export const CUSTODY_RECEIPT = {
  title: "Introduction Custodied.",
  body: "This introduction is now timestamped, cryptographically signed, and permanently attributed to you. If this relationship produces a deal — today or in five years — this record is your claim.",
  cta: "View Your Custody Register",
} as const;

/** Six-module navigation section labels. */
export const MODULES = {
  overview: "OVERVIEW",
  trustIdentity: "TRUST & IDENTITY",
  relationships: "RELATIONSHIPS",
  deals: "DEALS",
  economics: "ECONOMICS",
  intelligence: "INTELLIGENCE",
  settings: "SETTINGS",
} as const;

/** Notification type labels shown on activity feed badges. */
export const NOTIFICATIONS = {
  matchFound:      { label: "MATCH" },
  dealUpdate:      { label: "DEAL ROOM" },
  payoutReceived:  { label: "ATTRIBUTION" },
  complianceAlert: { label: "VERIFICATION" },
  system:          { label: "SYSTEM" },
} as const;

/** Toast messages triggered by dashboard CTA clicks. */
export const TOASTS = {
  navigatingRelationships: "Opening Relationship Custody",
  navigatingDealMatching:  "Opening Blind Matching",
} as const;

/** Dashboard widget titles, labels, and CTAs. */
export const DASHBOARD = {
  trustScore: {
    title: "Trust Score",
    scoreChange: (delta: number) => `${delta > 0 ? "+" : ""}${delta} this month`,
    whitelistStatus: "Whitelist",
    compoundNature:
      "Your score compounds with every verified transaction and peer attestation.",
    breakdownCta: "Click to view breakdown →",
  },
  marketDepth: {
    title: "Market Depth",
    buyersLabel: "Buyers",
    sellersLabel: "Sellers",
  },
  blindMatches: {
    title: "Blind Matches",
    sealedStatus: "Sealed",
    noMatches: "No matches yet. Express an intent to activate matching.",
  },
  dealRooms: {
    title: "Deal Rooms",
    documents: "Documents:",
    auditEvents: "Audit Events:",
    immutableAuditTrail: "Immutable audit trail & document versioning active",
    escrowLabel: "Escrow",
    enterCta: "Enter Deal Room →",
    noDealRooms: "No deal rooms yet. Accept a match to open a deal room.",
  },
  complianceStatus: {
    title: "Compliance Status",
    passportSummary: "Compliance Passport",
    kybStatus: "KYB",
    ofacStatus: "OFAC",
    amlStatus: "AML",
    viewPassportCta: "View Passport",
    badgeRequired: "Required",
    noPendingActions: "All compliance requirements met.",
  },
  payouts: {
    title: "Economics Engine",
    nextPayoutLabel: "Next Payout:",
    lifetimeAttribution: "Lifetime Attribution Value:",
    originationShare: "Originator Share:",
    noPayouts: "No payouts yet. Close a deal to trigger attribution.",
  },
  activeIntents: {
    title: "Your Active Intents",
    manageCta: "Manage Intents",
    noIntents: "No active intents. Visit Blind Matching to express an intent.",
  },
  custodiedRelationships: {
    title: "Relationship Custody",
    custodyAge: "Custodied:",
    attributionCue: "Cryptographic timestamps ensure forever attribution",
    protectCta: "Protect a Relationship",
    viewRegisterCta: "View Custody Register",
    noRelationships:
      "No custodied relationships yet. Protect your first introduction.",
  },
} as const;


=== DASHBOARD.TSX IMPORTS (style reference) ===
import { useAuth } from "@/_core/hooks/useAuth";
import { EmptyState, EMPTY_STATES } from "@/components/EmptyState";
import { trpc } from "@/lib/trpc";
import { useDemoFixtures } from "@/contexts/DemoContext";
import { formatDistanceToNow } from "date-fns";
import {
  FileText,
  Lock,
  Shield,
  Target,
  TrendingUp,
  Clock,
  Fingerprint,
  CheckCircle,
  XCircle,
  Info,
} from "lucide-react";
import { Link } from "wouter";
import { useCallback, useEffect, useState } from "react";
import { motion } from "framer-motion";
import { FadeInView, StaggerContainer, StaggerItem } from "@/components/PageTransition";
import { SmoothCounter } from "@/components/PremiumAnimations";
import { toast } from "sonner";
import { DASHBOARD, NOTIFICATIONS, TOASTS } from "@/lib/copy";

// --- Assuming DEMO_FIXTURES in client/src/lib/demoFixtures.ts is updated as follows: ---
// interface DemoMatch { id: number; tag: string; compatibilityScore: number; assetClass: string; dealSize: string; intentType?: 'buy' | 'sell' | 'invest'; }
// interface DemoDealRoom { id: number; name: string; stage: string; counterparty: string; escrowProgress: number; auditEvents: number; documentCount: number; }
// interface DemoPayout { id: number; deal: string; amount: number; status: string; originatorShare: number; }
// interface DemoRelationship { id: number; name: string; custodyHash: string; custodyDate: string; attributionStatus: string; }
// interface DemoIntent { id: number; type: 'buy' | 'sell' | 'invest'; assetClass: string; size: string; }
// DEMO_FIXTURES should also include a 'relationships' and 'intents' array.
// -----------------------------------------------------------------------------------

const NOTIFICATION_STYLES: Record<
  string,
  { border: string; badge: string; label: string }
> = {
  match_found: {
    border: "border-l-[#C4972A]",
    badge: "bg-[#C4972A]/15 text-[#C4972A]",
    label: NOTIFICATIONS.matchFound.label,
  },
  deal_update: {
    border: "border-l-[#2563EB]",
    badge: "bg-[#2563EB]/15 text-[#2563EB]",
    label: NOTIFICATIONS.dealUpdate.label,
  },
  payout_received: {
    border: "border-l-[#059669]",
    badge: "bg-[#059669]/15 text-[#059669]",
    label: NOTIFICATIONS.payoutReceived.label,
  },
  compliance_alert: {
    border: "border-l-[#1E3A5F]",
    badge: "bg-[#1E3A5F]/15 text-[#1E3A5F]",
    label: NOTIFICATIONS.complianceAlert.label,
  },
};



=== SOURCE FILE: client/src/pages/Intents.tsx ===
import { useState } from "react";
import { trpc } from "@/lib/trpc";
import { Button } from "@/components/ui/button";
import { Badge } from "@/components/ui/badge";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import { Textarea } from "@/components/ui/textarea";
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from "@/components/ui/select";
import { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle, DialogTrigger } from "@/components/ui/dialog";
import { Switch } from "@/components/ui/switch";
import { 
  Target, Plus, Search, Zap, Eye, EyeOff, 
  DollarSign, Clock, Sparkles, Play, Pause, TrendingUp, Filter, ChevronRight, ArrowUpRight
} from "lucide-react";
import { toast } from "sonner";

export default function Intents() {
  const [searchQuery, setSearchQuery] = useState("");
  const [isAddDialogOpen, setIsAddDialogOpen] = useState(false);
  const [newIntent, setNewIntent] = useState({
    intentType: "buy" as "buy" | "sell" | "invest" | "seek_investment" | "partner",
    title: "",
    description: "",
    assetType: undefined as any,
    minValue: "",
    maxValue: "",
    targetTimeline: "",
    isAnonymous: true,
  });

  const { data: intents, isLoading, refetch } = trpc.intent.list.useQuery();
  const createMutation = trpc.intent.create.useMutation({
    onSuccess: () => {
      toast.success("Intent created! AI matching is now active.");
      setIsAddDialogOpen(false);
      setNewIntent({
        intentType: "buy",
        title: "",
        description: "",
        assetType: undefined,
        minValue: "",
        maxValue: "",
        targetTimeline: "",
        isAnonymous: true,
      });
      refetch();
    },
    onError: (error) => {
      toast.error(error.message);
    },
  });

  const updateMutation = trpc.intent.update.useMutation({
    onSuccess: () => {
      toast.success("Intent updated");
      refetch();
    },
  });

  const findMatchesMutation = trpc.intent.findMatches.useMutation({
    onSuccess: (data) => {
      if (data.matches.length > 0) {
        toast.success(`Found ${data.matches.length} potential matches!`);
      } else {
        toast.info("No matches found yet. Keep your intent active.");
      }
    },
    onError: (error) => {
      toast.error(error.message);
    },
  });

  const filteredIntents = intents?.filter(intent => 
    intent.title.toLowerCase().includes(searchQuery.toLowerCase()) ||
    intent.description?.toLowerCase().includes(searchQuery.toLowerCase())
  ) || [];

  const getIntentTypeStyle = (type: string) => {
    switch (type) {
      case "buy": return "bg-sky-500";
      case "sell": return "bg-rose-500";
      case "invest": return "bg-blue-500";
      case "seek_investment": return "bg-purple-500";
      case "partner": return "bg-sky-500";
      default: return "bg-muted";
    }
  };

  const getStatusBadgeVariant = (status: string) => {
    switch (status) {
      case "matched": return "default";
      default: return "outline";
    }
  };

  const stats = [
    { label: "Total Intents", value: intents?.length || 0, icon: Target, color: "accent" },
    { label: "Active", value: intents?.filter(i => i.status === 'active').length || 0, icon: Zap, color: "dark" },
    { label: "Matched", value: intents?.filter(i => i.status === 'matched').length || 0, icon: TrendingUp, color: "accent" },
    { label: "Anonymous", value: intents?.filter(i => i.isAnonymous).length || 0, icon: EyeOff, color: "dark" },
  ];

  return (
    <div className="min-h-screen bg-background bg-geometric">
      {/* Header */}
      <div className="px-8 pt-10 pb-8">
        <div className="flex flex-col lg:flex-row lg:items-end lg:justify-between gap-6">
          <div className="animate-fade-in">
            <div className="flex items-center gap-3 mb-4">
              <div className="geo-dot" />
              <span className="text-[0.6875rem] font-semibold uppercase tracking-widest text-muted-foreground">AI Blind Matching</span>
            </div>
            <h1 className="text-4xl font-semibold tracking-tight text-foreground mb-3">
              Deal <span className="gradient-text">Intents</span>
            </h1>
            <p className="text-lg text-muted-foreground max-w-md">
              Post what you're looking for and let AI find matches.
            </p>
          </div>
          
          <Dialog open={isAddDialogOpen} onOpenChange={setIsAddDialogOpen}>
            <DialogTrigger asChild>
              <Button className="flex items-center gap-2 animate-fade-in stagger-2">
                <Plus className="w-4 h-4" />
                New Intent
              </Button>
            </DialogTrigger>
            <DialogContent className="sm:max-w-lg">
              <DialogHeader>
                <DialogTitle className="text-2xl font-semibold tracking-tight">Create Intent</DialogTitle>
                <DialogDescription>
                  AI will match you with compatible counterparties
                </DialogDescription>
              </DialogHeader>
              <div className="space-y-4 py-4 max-h-[60vh] overflow-y-auto">
                <div className="space-y-2">
                  <Label>Intent Type</Label>
                  <Select
                    value={newIntent.intentType}
                    onValueChange={(value: any) => setNewIntent({ ...newIntent, intentType: value })}
                  >
                    <SelectTrigger className="h-11">
                      <SelectValue />
                    </SelectTrigger>
                    <SelectContent>
                      <SelectItem value="buy">Buy / Acquire</SelectItem>
                      <SelectItem value="sell">Sell / Divest</SelectItem>
                      <SelectItem value="invest">Invest Capital</SelectItem>
                      <SelectItem value="seek_investment">Seek Investment</SelectItem>
                      <SelectItem value="partner">Find Partner</SelectItem>
                    </SelectContent>
                  </Select>
                </div>

                <div className="space-y-2">
                  <Label>Title</Label>
                  <Input
                    placeholder="e.g., Seeking 50,000 MT EN590 Rotterdam delivery"
                    value={newIntent.title}
                    onChange={(e) => setNewIntent({ ...newIntent, title: e.target.value })}
                    className="h-11"
                  />
                </div>

                <div className="space-y-2">
                  <Label>Description</Label>
                  <Textarea
                    placeholder="Provide details about your requirements..."
                    value={newIntent.description}
                    onChange={(e) => setNewIntent({ ...newIntent, description: e.target.value })}
                    rows={3}
                  />
                </div>

                <div className="space-y-2">
                  <Label>Asset Type</Label>
                  <Select
                    value={newIntent.assetType}
                    onValueChange={(value: any) => setNewIntent({ ...newIntent, assetType: value })}
                  >
                    <SelectTrigger className="h-11">
                      <SelectValue placeholder="Select asset type" />
                    </SelectTrigger>
                    <SelectContent>
                      <SelectItem value="commodity">Commodity</SelectItem>
                      <SelectItem value="real_estate">Real Estate</SelectItem>
                      <SelectItem value="equity">Equity</SelectItem>
                      <SelectItem value="debt">Debt</SelectItem>
                      <SelectItem value="infrastructure">Infrastructure</SelectItem>
                      <SelectItem value="renewable_energy">Renewable Energy</SelectItem>
                      <SelectItem value="mining">Mining</SelectItem>
                      <SelectItem value="oil_gas">Oil & Gas</SelectItem>
                      <SelectItem value="business">Business</SelectItem>
                      <SelectItem value="other">Other</SelectItem>
                    </SelectContent>
                  </Select>
                </div>

                <div className="grid grid-cols-2 gap-4">
                  <div className="space-y-2">
                    <Label>Min Value (USD)</Label>
                    <Input
                      type="number"
                      placeholder="1,000,000"
                      value={newIntent.minValue}
                      onChange={(e) => setNewIntent({ ...newIntent, minValue: e.target.value })}
                      className="h-11"
                    />
                  </div>
                  <div className="space-y-2">
                    <Label>Max Value (USD)</Label>
                    <Input
                      type="number"
                      placeholder="10,000,000"
                      value={newIntent.maxValue}
                      onChange={(e) => setNewIntent({ ...newIntent, maxValue: e.target.value })}
                      className="h-11"
                    />
                  </div>
                </div>

                <div className="space-y-2">
                  <Label>Target Timeline</Label>
                  <Input
                    placeholder="e.g., Q2 2026, Within 6 months"
                    value={newIntent.targetTimeline}
                    onChange={(e) => setNewIntent({ ...newIntent, targetTimeline: e.target.value })}
                    className="h-11"
                  />
                </div>

                <div className="flex items-center justify-between p-4 rounded-xl bg-muted/30 border border-border">
                  <div className="flex items-center gap-3">
                    {newIntent.isAnonymous ? <EyeOff className="w-5 h-5 text-accent" /> : <Eye className="w-5 h-5 text-muted-foreground" />}
                    <div>
                      <span className="font-medium text-sm">Anonymous Mode</span>
                      <p className="text-xs text-muted-foreground">Hide identity until mutual interest</p>
                    </div>
                  </div>
                  <Switch
                    checked={newIntent.isAnonymous}
                    onCheckedChange={(checked) => setNewIntent({ ...newIntent, isAnonymous: checked })}
                  />
                </div>

                <Button
                  className="w-full"
                  onClick={() => {
                    if (!newIntent.title) {
                      toast.error("Please enter a title");
                      return;
                    }
                    createMutation.mutate({
                      ...newIntent,
                      minValue: newIntent.minValue || undefined,
                      maxValue: newIntent.maxValue || undefined,
                    });
                  }}
                  disabled={createMutation.isPending}
                >
                  {createMutation.isPending ? (
                    <>
                      <Sparkles className="w-4 h-4 mr-2 animate-spin" />
                      Creating...
                    </>
                  ) : (
                    <>
                      <Zap className="w-4 h-4 mr-2" />
                      Create Intent
                    </>
                  )}
                </Button>
              </div>
            </DialogContent>
          </Dialog>
        </div>
      </div>

      {/* Search */}
      <div className="px-8 pb-6">
        <div className="flex flex-col sm:flex-row gap-4 animate-fade-in stagger-3">
          <div className="relative flex-1 max-w-md">
            <Search className="absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground" />
            <Input
              placeholder="Search intents..."
              className="pl-11 h-12 rounded-xl"
              value={searchQuery}
              onChange={(e) => setSearchQuery(e.target.value)}
            />
          </div>
          <Button variant="outline" className="flex items-center gap-2">
            <Filter className="w-4 h-4" />
            Filters
          </Button>
        </div>
      </div>

      {/* Stats */}
      <div className="px-8 pb-8">
        <div className="grid grid-cols-2 md:grid-cols-4 gap-6 animate-fade-in stagger-4">
          {stats.map((stat, index) => (
            <div key={index} className="rounded-lg border border-border/60 bg-card p-6 shadow-sm">
              <div className="flex items-center justify-between mb-4">
                <div className={`w-11 h-11 rounded-xl flex items-center justify-center ${
                  stat.color === 'accent' ? 'icon-container-accent' : 'icon-container-dark'
                }`}>
                  <stat.icon className={`w-5 h-5 ${
                    stat.color === 'accent' ? 'text-accent' : 'text-primary-foreground'
                  }`} />
                </div>
              </div>
              <div className="text-number-lg text-foreground mb-1">{stat.value}</div>
              <div className="text-xs text-muted-foreground">{stat.label}</div>
            </div>
          ))}
        </div>
      </div>

      {/* Intents List */}
      <div className="px-8 pb-12">
        {isLoading ? (
          <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
            {[1, 2, 3, 4].map((i) => (
              <div key={i} className="rounded-lg border border-border/60 bg-card p-6 shadow-sm">
                <div className="h-40 animate-shimmer rounded-xl" />
              </div>
            ))}
          </div>
        ) : filteredIntents.length === 0 ? (
          <div className="rounded-lg border border-border/60 bg-card p-16 shadow-sm text-center">
            <div className="w-20 h-20 rounded-2xl icon-container mx-auto mb-6 flex items-center justify-center">
              <Target className="w-10 h-10 text-muted-foreground" />
            </div>
            <h3 className="text-2xl font-semibold tracking-tight text-foreground mb-2">No Intents Yet</h3>
            <p className="text-muted-foreground mb-6 max-w-sm mx-auto">
              Create your first intent and let AI find compatible counterparties
            </p>
            <Button onClick={() => setIsAddDialogOpen(true)}>
              <Plus className="w-4 h-4 mr-2" />
              Create First Intent
            </Button>
          </div>
        ) : (
          <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
            {filteredIntents.map((intent, index) => (
              <div 
                key={intent.id} 
                className={`rounded-lg border border-border/60 bg-card p-6 shadow-sm hover-lift cursor-pointer group animate-fade-in stagger-${Math.min(index + 1, 8)}`}
              >
                <div className="flex items-start justify-between mb-4">
                  <div className="flex items-center gap-3">
                    <div className={`w-12 h-12 rounded-xl ${getIntentTypeStyle(intent.intentType)} flex items-center justify-center`}>
                      <Target className="w-6 h-6 text-white" />
                    </div>
                    <div className="flex flex-col gap-1">
                      <Badge variant={getStatusBadgeVariant(intent.status || "draft")} className="text-xs">
                        {(intent.status || 'draft').charAt(0).toUpperCase() + (intent.status || 'draft').slice(1)}
                      </Badge>
                      <span className="text-xs text-muted-foreground capitalize">
                        {intent.intentType.replace('_', ' ')}
                      </span>
                    </div>
                  </div>
                  {intent.isAnonymous && (
                    <div className="flex items-center gap-1 text-xs text-muted-foreground">
                      <EyeOff className="w-3 h-3" />
                      Anonymous
                    </div>
                  )}
                </div>

                <h3 className="text-lg font-semibold text-foreground mb-2 group-hover:text-accent transition-colors line-clamp-1">
                  {intent.title}
                </h3>
                
                {intent.description && (
                  <p className="text-sm text-muted-foreground mb-4 line-clamp-2">
                    {intent.description}
                  </p>
                )}

                <div className="flex flex-wrap gap-4 text-sm mb-4">
                  {(intent.minValue || intent.maxValue) && (
                    <div className="flex items-center gap-1.5 text-muted-foreground">
                      <DollarSign className="w-4 h-4" />
                      <span>
                        ${(parseFloat(intent.minValue || "0") / 1000000).toFixed(1)}M - ${(parseFloat(intent.maxValue || "0") / 1000000).toFixed(1)}M
                      </span>
                    </div>
                  )}
                  {intent.assetType && (
                    <Badge variant="outline" className="text-xs capitalize">
                      {intent.assetType.replace('_', ' ')}
                    </Badge>
                  )}
                </div>

                <div className="flex items-center justify-between pt-4 border-t border-border">
                  <div className="flex items-center gap-4">
                    <div className="flex items-center gap-1.5 text-xs text-muted-foreground">
                      <Clock className="w-3.5 h-3.5" />
                      <span>{new Date(intent.createdAt).toLocaleDateString()}</span>
                    </div>

                  </div>
                  <div className="flex items-center gap-2">
                    <Button
                      variant="ghost"
                      size="icon"
                      className="text-xs p-2"
                      onClick={() => {
                        updateMutation.mutate({
                          id: intent.id,
                          status: intent.status === 'active' ? 'paused' : 'active'
                        });
                      }}
                    >
                      {intent.status === 'active' ? <Pause className="w-4 h-4" /> : <Play className="w-4 h-4" />}
                    </Button>
                    <Button
                      variant="ghost"
                      size="icon"
                      className="text-xs p-2"
                      onClick={() => findMatchesMutation.mutate({ intentId: intent.id })}
                    >
                      <Sparkles className="w-4 h-4" />
                    </Button>
                    <Button variant="ghost" size="icon" className="text-xs flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity">
                      <ArrowUpRight className="w-3.5 h-3.5" />
                    </Button>
                  </div>
                </div>
              </div>
            ))}
          </div>
        )}
      </div>
    </div>
  );
}


=== INSTRUCTIONS ===

Your task: upgrade Intents.tsx for whitepaper vision conformance.

SPECIFIC ISSUES TO FIX:
1. Individual intent cards are not labeled as "Blind Intents" -- add a "Blind Intent" badge
   to each intent card (small rounded-full badge, navy background).
2. The page imports nothing from @/lib/copy -- import TOUR and use TOUR.blindMatch.title
   and TOUR.blindMatch.body as a subtitle or info tooltip under the page heading.
3. The anonymous toggle label "Anonymous Mode" is fine but the description could say
   "Identity sealed until mutual consent is established."

DO NOT CHANGE: All trpc.intent.* queries/mutations, the 10-field create form,
the 4-stat cards structure, the play/pause/sparkles action buttons.



=== OUTPUT FORMAT ===
Respond with ONLY valid JSON (no markdown, no code blocks):
{
  "upgraded_tsx": "<complete upgraded TypeScript/TSX file content>",
  "changes_summary": ["change 1", "change 2"],
  "whitepaper_terms_added": ["term 1", "term 2"],
  "copy_tokens_used": ["DASHBOARD.xxx", "TOUR.xxx"]
}

CRITICAL RULES:
1. upgraded_tsx must be the COMPLETE file — do not truncate.
2. Preserve ALL existing tRPC queries and mutations — do not remove any.
3. Preserve ALL existing form logic, modals, validation.
4. Only change: copy/labels, visual aesthetics, terminology alignment.
5. Do not add new tRPC queries unless explicitly instructed.
6. TypeScript must compile — no implicit any, no missing imports.
7. Only import from libraries already in the project: react, wouter, framer-motion,
   lucide-react, sonner, date-fns, @/lib/trpc, @/lib/copy, @/components/ui/*,
   @/components/EmptyState, @/components/PageTransition, @/components/PremiumAnimations,
   @/_core/hooks/useAuth.